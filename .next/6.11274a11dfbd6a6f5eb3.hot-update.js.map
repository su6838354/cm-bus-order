{"version":3,"file":"6.11274a11dfbd6a6f5eb3.hot-update.js","sources":["webpack:///pages/order-history.js"],"sourcesContent":["/**\n * Created by pdd on 2018/6/10.\n */\n\nimport React from 'react';\nimport './order-history.scss';\nimport OrderInfo from './components/order-info';\nimport cookies from 'next-cookies';\nimport request from './request';\n\n\nexport default class OrderHistory extends React.Component {\n\n    constructor (props) {\n        super(props);\n        this.state = {\n            list: []\n        }\n    }\n\n    static async getInitialProps (ctx) {\n        const { mobile, username } = cookies(ctx);\n        console.log('mobile:', mobile);\n        const { res } = ctx;\n        if (res) {\n            if (!mobile) {\n                res.writeHead(302, {\n                    Location: '/login'\n                })\n                res.end()\n                res.finished = true\n                return\n            }\n        } else {\n            if (!mobile) {\n                Router.push('/login');\n                return\n            }\n        }\n\n\n        return {\n            mobile, username\n        }\n    }\n\n    componentDidMount () {\n        request.post('/cbo/list_by_mobile', {mobile: this.props.mobile}).then(response => {\n            console.log('--', response.data.data)\n            if (response.data.code === 0) {\n                this.setState({\n                    list: response.data.data\n                })\n            }\n        });\n    }\n\n\n    renderList = () => {\n        const { username, mobile } = this.props;\n        return this.state.list.map(item => {\n            return (\n                <div>\n                    <OrderInfo {...item} order_owner={username} order_mobile={mobile}  />\n                </div>\n            )\n        })\n    }\n\n\n    render () {\n        return (\n            <div className=\"order-history-page\">\n                {this.renderList()}\n            </div>\n        )\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// pages/order-history.js"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;AAIA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;;AAEA;AAAA;AACA;AADA;AACA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AA6CA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AAtDA;AAEA;AACA;AADA;AAFA;AAKA;AACA;;;AA2BA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AADA;AAGA;AACA;AACA;;;AAeA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;;;;;;;;;;;;;AAxDA;;;;;;;AACA;AACA;AACA;AACA;AAAA;;;;;AACA;;;;;AACA;AACA;AADA;AAGA;AACA;;;;;;;;AAIA;;;;;AACA;;;;AAMA;AACA;AAAA;AADA;AACA;;;;;;;;;;;;;;;;AA/BA;AACA;AADA;;;;;;;;;;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}